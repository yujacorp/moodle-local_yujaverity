define("local_yujaverity/checkQuizAccess",["exports"],(function(_exports){function showBlockPage(verityHostname,blockPage){let quizDisplay=document.getElementById("region-main-box");if(!quizDisplay)return;let notice=document.createElement("iframe");notice.id="yuja-download-instructions",notice.width=quizDisplay.offsetWidth,notice.scrolling="no",notice.src="https://"+verityHostname+"/pages/take-quiz/block-access/"+blockPage+".html?lms=moodle",notice.style.border="none",notice.style.transition="all 0.5s ease-in-out 0s",notice.height="0px",notice.width="100%",notice.style.paddingLeft="15px",notice.style.paddingRight="15px",quizDisplay.style.display="none",quizDisplay.style.visibility="hidden",quizDisplay.parentNode.appendChild(notice),notice.onload=()=>{notice.contentWindow.postMessage({event:"init-auth-instructions",authLink:void 0},"https://"+verityHostname)},window.addEventListener("message",(ev=>{if(ev.origin!=="https://"+verityHostname)return;const message=ev.data;"instructions-resize"===(null==message?void 0:message.event)&&(message.scrollHeight&&(notice.height=message.scrollHeight),message.scrollWidth&&(notice.width="100%"),message.noScroll||(document.documentElement.scrollTop=0))}))}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.checkQuizAccess=async function(verityHostname){try{window.chrome?await function(verityHostname){return new Promise(((resolve,reject)=>{let iframe=document.createElement("iframe");iframe.id="yuja-verity-extension-connect",iframe.style.display="none",iframe.style.visibility="hidden",iframe.src="https://"+verityHostname+"/resources/themes/extension-connect.html",document.body.appendChild(iframe),iframe.onload=()=>{var _iframe$contentWindow;null===(_iframe$contentWindow=iframe.contentWindow)||void 0===_iframe$contentWindow||_iframe$contentWindow.postMessage({require:"exists"},"https://"+verityHostname)},iframe.onerror=()=>{reject()},window.addEventListener("message",(ev=>{if(ev.origin!=="https://"+verityHostname)return;const message=ev.data;"exists"===(null==message?void 0:message.require)&&resolve(Boolean(message.result))}))}))}(verityHostname)?document.body.classList.remove("yujaverity"):showBlockPage(verityHostname,"download-instructions"):showBlockPage(verityHostname,"browser-instructions")}catch(err){}}}));

//# sourceMappingURL=checkQuizAccess.min.js.map